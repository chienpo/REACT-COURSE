{"ast":null,"code":"import _regeneratorRuntime from \"/home/ITRANSITION.CORP/s.lagunovsky/react/git/other/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/ITRANSITION.CORP/s.lagunovsky/react/git/other/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/home/ITRANSITION.CORP/s.lagunovsky/react/git/other/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/ITRANSITION.CORP/s.lagunovsky/react/git/other/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/ITRANSITION.CORP/s.lagunovsky/react/git/other/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/ITRANSITION.CORP/s.lagunovsky/react/git/other/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/ITRANSITION.CORP/s.lagunovsky/react/git/other/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/ITRANSITION.CORP/s.lagunovsky/react/git/other/src/components/task-one/TaskOne.tsx\";\nimport React from 'react';\nimport axios from 'axios';\nimport Navigation from '../Navigation/Navigation';\nimport ArticlesList from './ArticlesList';\nimport { Button } from './styled';\nimport { Page, Section, TabButtons, Tabs } from './styled';\nvar CATEGORIES = {\n  'ECONOMY': 'economy',\n  'INTERNET': 'internet',\n  'COMPUTING': 'computing',\n  'GADGETS': 'gadgets'\n};\n\nvar TaskOne =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(TaskOne, _React$Component);\n\n  function TaskOne() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, TaskOne);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(TaskOne)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      loading: false,\n      activeTab: CATEGORIES.ECONOMY,\n      articles: []\n    };\n\n    _this.loadPosts =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(articleName) {\n        var response;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n\n                _this.setState({\n                  activeTab: articleName,\n                  loading: true\n                });\n\n                _context.next = 4;\n                return axios.get(\"https://js-news-5e08b.firebaseio.com/\".concat(articleName, \".json\"));\n\n              case 4:\n                response = _context.sent;\n\n                _this.setState({\n                  articles: response.data,\n                  loading: false\n                });\n\n                _context.next = 10;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 8]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    return _this;\n  }\n\n  _createClass(TaskOne, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadPosts(CATEGORIES.ECONOMY);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(Page, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }, React.createElement(Navigation, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }), React.createElement(TabButtons, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, Object.keys(CATEGORIES).map(function (category) {\n        return React.createElement(Button, {\n          disabled: _this2.state.activeTab === category.toLowerCase(),\n          className: _this2.state.activeTab === category.toLowerCase() ? 'active' : '',\n          key: category,\n          onClick: function onClick() {\n            return _this2.loadPosts(CATEGORIES[category]);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, category);\n      })), React.createElement(Section, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Tabs, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(ArticlesList, {\n        currentTab: this.state.activeTab,\n        articles: this.state.articles,\n        loading: this.state.loading,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return TaskOne;\n}(React.Component);\n\nexport default TaskOne;","map":{"version":3,"sources":["/home/ITRANSITION.CORP/s.lagunovsky/react/git/other/src/components/task-one/TaskOne.tsx"],"names":["React","axios","Navigation","ArticlesList","Button","Page","Section","TabButtons","Tabs","CATEGORIES","TaskOne","state","loading","activeTab","ECONOMY","articles","loadPosts","articleName","setState","get","response","data","Object","keys","map","category","toLowerCase","Component"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAASC,MAAT,QAAuB,UAAvB;AACA,SAASC,IAAT,EAAeC,OAAf,EAAwBC,UAAxB,EAAoCC,IAApC,QAAgD,UAAhD;AAkBA,IAAMC,UAAuB,GAAG;AAC5B,aAAW,SADiB;AAE5B,cAAY,UAFgB;AAG5B,eAAa,WAHe;AAI5B,aAAW;AAJiB,CAAhC;;IAOMC,O;;;;;;;;;;;;;;;;;UACFC,K,GAAQ;AACJC,MAAAA,OAAO,EAAE,KADL;AAEJC,MAAAA,SAAS,EAAEJ,UAAU,CAACK,OAFlB;AAGJC,MAAAA,QAAQ,EAAE;AAHN,K;;UAURC,S;;;;;+BAAY,iBAAOC,WAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEJ,sBAAKC,QAAL,CAAc;AACVL,kBAAAA,SAAS,EAAEI,WADD;AAEVL,kBAAAA,OAAO,EAAE;AAFC,iBAAd;;AAFI;AAAA,uBAOmBX,KAAK,CAACkB,GAAN,gDAAkDF,WAAlD,WAPnB;;AAAA;AAOEG,gBAAAA,QAPF;;AASJ,sBAAKF,QAAL,CAAc;AACVH,kBAAAA,QAAQ,EAAEK,QAAQ,CAACC,IADT;AAEVT,kBAAAA,OAAO,EAAE;AAFC,iBAAd;;AATI;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;;wCAJQ;AAChB,WAAKI,SAAL,CAAeP,UAAU,CAACK,OAA1B;AACH;;;6BAkBQ;AAAA;;AACL,aACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACKQ,MAAM,CAACC,IAAP,CAAYd,UAAZ,EAAwBe,GAAxB,CAA4B,UAAAC,QAAQ;AAAA,eACjC,oBAAC,MAAD;AACI,UAAA,QAAQ,EAAE,MAAI,CAACd,KAAL,CAAWE,SAAX,KAAyBY,QAAQ,CAACC,WAAT,EADvC;AAEI,UAAA,SAAS,EAAE,MAAI,CAACf,KAAL,CAAWE,SAAX,KAAyBY,QAAQ,CAACC,WAAT,EAAzB,GAAkD,QAAlD,GAA6D,EAF5E;AAGI,UAAA,GAAG,EAAED,QAHT;AAII,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAACT,SAAL,CAAeP,UAAU,CAACgB,QAAD,CAAzB,CAAN;AAAA,WAJb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAKEA,QALF,CADiC;AAAA,OAApC,CADL,CAFJ,EAaI,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,YAAD;AACI,QAAA,UAAU,EAAE,KAAKd,KAAL,CAAWE,SAD3B;AAEI,QAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWI,QAFzB;AAGI,QAAA,OAAO,EAAE,KAAKJ,KAAL,CAAWC,OAHxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CADJ,CAbJ,CADJ;AAyBH;;;;EArDiBZ,KAAK,CAAC2B,S;;AAwD5B,eAAejB,OAAf","sourcesContent":["import React from 'react'\nimport axios from 'axios'\n\nimport Navigation from '../Navigation/Navigation'\nimport ArticlesList from './ArticlesList'\nimport { Button } from './styled'\nimport { Page, Section, TabButtons, Tabs } from './styled'\n\ninterface ITaskOneState {\n    loading: boolean;\n    activeTab: string;\n    articles: IArticle[];\n}\n\ninterface IArticle {\n    title: string;\n    description: string;\n    urlToImage: string;\n}\n\ninterface ICategories {\n    [key: string]: string;\n}\n\nconst CATEGORIES: ICategories = {\n    'ECONOMY': 'economy',\n    'INTERNET': 'internet',\n    'COMPUTING': 'computing',\n    'GADGETS': 'gadgets'\n}\n\nclass TaskOne extends React.Component  < {}, ITaskOneState> {\n    state = {\n        loading: false,\n        activeTab: CATEGORIES.ECONOMY,\n        articles: []\n    }\n\n    componentDidMount() {\n        this.loadPosts(CATEGORIES.ECONOMY)\n    }\n\n    loadPosts = async (articleName: string) => {\n        try {\n            this.setState({\n                activeTab: articleName,\n                loading: true\n            })\n\n            const response = await axios.get(`https://js-news-5e08b.firebaseio.com/${articleName}.json`)\n\n            this.setState({\n                articles: response.data,\n                loading: false\n            })\n        } catch (e) { }\n    }\n\n    render() {\n        return (\n            <Page>\n                <Navigation />\n                <TabButtons>\n                    {Object.keys(CATEGORIES).map(category => (\n                        <Button\n                            disabled={this.state.activeTab === category.toLowerCase()}\n                            className={this.state.activeTab === category.toLowerCase() ? 'active' : ''}\n                            key={category}\n                            onClick={() => this.loadPosts(CATEGORIES[category])}\n                        >{category}\n                        </Button>\n                    ))}\n                </TabButtons>\n                <Section>\n                    <Tabs>\n                        <ArticlesList\n                            currentTab={this.state.activeTab}\n                            articles={this.state.articles}\n                            loading={this.state.loading}\n                        />\n                    </Tabs>\n                </Section>\n            </Page>\n        )\n    }\n}\n\nexport default TaskOne\n"]},"metadata":{},"sourceType":"module"}