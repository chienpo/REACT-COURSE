{"ast":null,"code":"import _objectSpread from \"/home/ITRANSITION.CORP/s.lagunovsky/react/git/other/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport * as actionTypes from '../actions';\nimport Big from 'big.js';\n\nvar operate = function operate(numberOne, numberTwo, operation) {\n  var one = Big(numberOne || '0');\n  var two = Big(numberTwo || '0');\n\n  if (operation === '+') {\n    return one.plus(two).toString();\n  }\n\n  if (operation === '-') {\n    return one.minus(two).toString();\n  }\n\n  if (operation === \"*\") {\n    return one.times(two).toString();\n  }\n\n  if (operation === \"/\") {\n    return one.div(two).toString();\n  }\n\n  throw Error(\"Unknown operation '\".concat(operation, \"'\"));\n};\n\nvar initialState = {\n  total: '',\n  operation: '',\n  next: ''\n};\n\nvar reducer = function reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case actionTypes.NUMBERS:\n      if (action.payload.buttonName === 'AC') {\n        return _objectSpread({}, state, {\n          total: '',\n          operation: '',\n          next: ''\n        });\n      }\n\n      if (Number(action.payload.buttonName)) {\n        if (action.payload.buttonName === \"0\" && state.next === \"0\") {\n          return _objectSpread({}, state, {\n            total: '',\n            operation: '',\n            next: ''\n          });\n        }\n\n        if (state.operation) {\n          if (state.next) {\n            return _objectSpread({}, state, {\n              next: state.next + action.payload.buttonName\n            });\n          }\n\n          return _objectSpread({}, state, {\n            next: action.payload.buttonName\n          });\n        }\n\n        if (state.next) {\n          return _objectSpread({}, state, {\n            next: state.next + action.payload.buttonName,\n            total: ''\n          });\n        }\n\n        return _objectSpread({}, state, {\n          next: action.payload.buttonName,\n          total: ''\n        });\n      }\n\n      if (action.payload.buttonName === \"=\") {\n        if (state.next && state.operation) {\n          return _objectSpread({}, state, {\n            total: operate(state.total, state.next, state.operation),\n            next: '',\n            operation: ''\n          });\n        } else {\n          return _objectSpread({}, state);\n        }\n      }\n\n      if (action.payload.buttonName === '-') {\n        if (action.payload.buttonName) {\n          return _objectSpread({}, state, {\n            total: operate(state.total, state.next, state.operation),\n            next: '',\n            operation: action.payload.buttonName\n          });\n        }\n\n        if (state.operation) {\n          return _objectSpread({}, state, {\n            total: operate(state.total, state.next, state.operation),\n            next: '',\n            operation: action.payload.buttonName\n          });\n        }\n\n        if (!state.next) {\n          return _objectSpread({}, state, {\n            operation: action.payload.buttonName\n          });\n        }\n\n        return _objectSpread({}, state, {\n          total: state.next,\n          next: '',\n          operation: action.payload.buttonName\n        });\n      }\n\n  }\n\n  return state;\n};\n\nexport default reducer;","map":{"version":3,"sources":["/home/ITRANSITION.CORP/s.lagunovsky/react/git/other/src/store/reducers/calculate.tsx"],"names":["actionTypes","Big","operate","numberOne","numberTwo","operation","one","two","plus","toString","minus","times","div","Error","initialState","total","next","reducer","state","action","type","NUMBERS","payload","buttonName","Number"],"mappings":"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","sourcesContent":["import * as actionTypes from '../actions';\nimport Big from 'big.js'\n\nconst operate = (numberOne: string, numberTwo: string, operation: string) => {\n    const one = Big(numberOne || '0');\n    const two = Big(numberTwo || '0');\n\n    if (operation === '+') {\n        return one.plus(two).toString();\n    }\n    if (operation === '-') {\n        return one.minus(two).toString();\n    }\n    if (operation === \"*\") {\n        return one.times(two).toString();\n    }\n    if (operation === \"/\") {\n        return one.div(two).toString();\n    }\n    throw Error(`Unknown operation '${operation}'`);\n};\n\nconst initialState = {\n    total: '',\n    operation: '',\n    next: ''\n};\n\nconst reducer = (state = initialState, action: any) => {\n    switch (action.type) {\n        case actionTypes.NUMBERS:\n            if (action.payload.buttonName === 'AC') {\n                return {\n                    ...state,\n                    total: '',\n                    operation: '',\n                    next: ''\n                };\n            }\n\n            if (Number(action.payload.buttonName)) {\n                if (action.payload.buttonName === \"0\" && state.next === \"0\") {\n                    return {\n                        ...state,\n                        total: '',\n                        operation: '',\n                        next: ''\n                    };\n                }\n                if (state.operation) {\n                    if (state.next) {\n                        return {\n                            ...state,\n                            next: state.next + action.payload.buttonName\n                        };\n                    }\n                    return {\n                        ...state,\n                        next: action.payload.buttonName\n                    };\n                }\n                if (state.next) {\n                    return {\n                        ...state,\n                        next: state.next + action.payload.buttonName,\n                        total: '',\n                    };\n                }\n                return {\n                    ...state,\n                    next: action.payload.buttonName,\n                    total: '',\n                };\n            }\n\n            if (action.payload.buttonName === \"=\") {\n                if (state.next && state.operation) {\n                    return {\n                        ...state,\n                        total: operate(state.total, state.next, state.operation),\n                        next: '',\n                        operation: '',\n                    };\n                } else {\n                    return {\n                        ...state\n                    };\n                }\n            }\n\n            if (action.payload.buttonName === '-') {\n                if (action.payload.buttonName) {\n                    return {\n                        ...state,\n                        total: operate(state.total, state.next, state.operation),\n                        next: '',\n                        operation: action.payload.buttonName,\n                    };\n                }\n\n                if (state.operation) {\n                    return {\n                        ...state,\n                        total: operate(state.total, state.next, state.operation),\n                        next: '',\n                        operation: action.payload.buttonName,\n                    };\n                }\n\n                if (!state.next) {\n                    return {\n                        ...state,\n                        operation: action.payload.buttonName\n                    };\n                }\n\n                return {\n                    ...state,\n                    total: state.next,\n                    next: '',\n                    operation: action.payload.buttonName,\n                };\n            }\n    }\n    return state\n};\n\nexport default reducer\n"]},"metadata":{},"sourceType":"module"}